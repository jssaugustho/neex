@host = http://localhost:3000


# @name register
POST {{host}}/user HTTP/1.1
Content-Type: application/json
Fingerprint: HTTP-VSCODE

{
    "name": "Jos√©",
    "lastName": "Augustho",
    "email": "usuariodeteste@gmail.com",
    "phone": "34991718593",
    "passwd": "SenhaDeTeste@123"
}

###

GET {{host}}/user HTTP/1.1
Content-Type: application/json
fingerprint: teste123456789

###

POST {{host}}/email-exists HTTP/1.1
Content-Type: application/json
fingerprint: teste123456789

{
    "email": "joseaugustholi@gmail.com"
}


###

//login
# @name login
POST {{host}}/login HTTP/1.1
Content-Type: application/json
fingerprint: mozilla0firefox

{
    "email": "usuariodeteste@gmail.com",
    "passwd": "SenhaDeTeste@123"
}

###

@token = {{login.response.body.$.token}}
@refreshToken = {{login.response.body.$.refreshToken}}

###

GET {{host}}/verify-email?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZWZiYjM1ZDgwMzQ5ODc4NDI2ODU0MiIsInJhbmQiOiIyZmFlNDM4OC0wY2I5LTRlYzAtYWYyZS1lOGU4NWMzY2FhNGIiLCJpYXQiOjE3NDM3Nzk0MjksImV4cCI6MTc0NDM3OTQyOX0.8x6ZY5aiw86moTp_BIu19r-LXPSJDhnpeKN8KQrJoUg
Authorization: {{token}}
Content-Type: application/json
fingerprint: 9999999999

###

GET {{host}}/email-auth?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZjExZjdkYmRiMjJmNmM3NWFlZTJkOSIsInNlc3Npb25JZCI6IjY3ZjNkZTRlN2ViYWUyOWQ3NzFlNDkwNyIsInJhbmQiOiI1ZGZjYTg5Zi04NWI5LTRhOGYtOWVjMy05Y2FjOWNjNTI3Y2QiLCJpYXQiOjE3NDQwMzU0MDcsImV4cCI6MTc0NDYzNTQwN30.fnCjmktr3GgaN6AlgMB2ZLpqNCAmf_9s2incRxvkBKQ
Authorization: {{token}}
Content-Type: application/json
fingerprint: 9999999999

###


GET {{host}}/resend
Authorization: {{token}}
Content-Type: application/json
fingerprint: 9999999999

###

GET {{host}}/inactivate-session/all HTTP/1.1
Content-Type: application/json
Authorization: {{token}}
fingerprint: 12346579

###

GET {{host}}/inactivate-session HTTP/1.1
Content-Type: application/json
Authorization: {{token}}
fingerprint: 12346579

###

POST {{host}}/send-email-auth HTTP/1.1
Content-Type: application/json
Authorization: {{token}}
fingerprint: 12346579

{
    "email": "joseaugustholi@gmail.com"
}

###

PUT {{host}}/inactivate-session HTTP/1.1
Content-Type: application/json
Authorization: {{token}}
fingerprint: 12346579

{
    "sessionId": "67f29e8f0b3d979a3613314a"
}

###

//refresh token
POST {{host}}/refresh HTTP/1.1
Content-Type: application/json
fingerprint: 9999999999

{
    "refreshToken": "{{refreshToken}}"
}

###

//get logged user
GET {{host}}/user HTTP/1.1
Authorization: {{token}}
fingerprint: mozilla0firefoxs
Content-Type: application/json

###

//get all users
GET {{host}}/users/all HTTP/1.1
Authorization: {{token}}
fingerprint: 123456789
Content-Type: application/json

###

//count all users
GET {{host}}/users/all/count HTTP/1.1
Authorization: {{token}}
fingerprint: 123456789
Content-Type: application/json

###

//update user
PUT {{host}}/user HTTP/1.1
Authorization: {{token}}
fingerprint: 123456789
Content-Type: application/json

{
    "query": {
        "email": "joseaugustholi5@gmail.com"
    },
    "data": {
        "role": "SUPPORT",
        "phone": "34991718593"
    }


